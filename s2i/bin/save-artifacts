#!/bin/bash

# Besides the tar command, all other output to standard out must 
# be surpressed.  Otherwise, the tar stream will be corrupted.
pushd ${HOME} >/dev/null
if [ -d deps ]; then
    # all deps contents to tar stream
    tar cf - deps
fi

# ${HOME}/.m2 is the maven repo dir
# {$HOME}/target is the class files from the previous build
if [ -d ./target ]; then
    tar cf - ./.m2 ./target
else
    tar cf - ./.m2
fi

popd >/dev/null